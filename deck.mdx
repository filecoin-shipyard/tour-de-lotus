import { Head } from 'mdx-deck'
import { TourContext } from './theme'
export { default as theme } from './theme'
import { LiveCode } from 'mdx-deck-live-code'
// import LotusRPC from '@filecoin-shipyard/lotus-client-rpc';
// import LotusRPC from './lotus-client-rpc';
// import BrowserProvider from '@filecoin-shipyard/lotus-client-provider-browser';
// import BrowserProvider from './lotus-client-provider-browser';
// import schema from '@filecoin-shipyard/lotus-client-schema/prototype/testnet-v3.js';
import { useState, useEffect, useRef, useCallback } from 'react'
import { useImmer } from 'use-immer'
import clientNode from './client-node'
import useMiners from './use-miners'
import useActorAddress from './use-actor-address'
import transformCode from './transform'
import baseImports from './base-imports'

<Head>
  <title>selfie2interopnet</title>
</Head>

# selfie2interopnet

---

<LiveCode
  title='ChainHead Height'
  size='fullscreen'
  code={require('!raw-loader!./chain-head-height.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 1,
      TourContext,
      client: clientNode,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='Capture Media'
  size='fullscreen'
  code={require('!raw-loader!./deal/capture-media.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 2,
      TourContext,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='Import'
  size='fullscreen'
  code={require('!raw-loader!./deal/import.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 3,
      TourContext,
      client: clientNode,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='List Miners for Deals'
  size='fullscreen'
  code={require('!raw-loader!./deal/miners.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 4,
      TourContext,
      clientNode,
      ...baseImports,
      useMiners,
      useActorAddress
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='Default Wallet and Balance'
  size='fullscreen'
  code={require('!raw-loader!./deal/default-wallet-and-balance.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 5,
      TourContext,
      client: clientNode,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='Propose Deal'
  size='fullscreen'
  code={require('!raw-loader!./deal/propose-deal.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 6,
      TourContext,
      client: clientNode,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>

---

<LiveCode
  title='Watch Deal Status'
  size='fullscreen'
  code={require('!raw-loader!./deal/deal-status.js')}
  providerProps={{
    transformCode,
    noInline: true,
    scope: {
      slideIndex: 7,
      TourContext,
      client: clientNode,
      ...baseImports
    }
  }}
  editorProps={{ style: { fontSize: '0.4em', background: '#001628' } }}
/>
